@import kipsigman.play.auth.entity.User
@import services.ContentAuthorizationService
@import services.ImageService
@import services.UrlService
@(article: ArticleInflated, contentAuthorizationService: ContentAuthorizationService, imageService: ImageService)(implicit request: RequestHeader, messages: Messages, user: Option[User])

@contentActions = {
  @if(contentAuthorizationService.canViewEditLink(article)){
  	<a href="@routes.ArticleController.edit(article.id.get)" class="btn btn-warning btn-xs"><span class="glyphicon glyphicon-pencil"></span> @Messages("action.edit")</a>
  }else{
    @if(!article.isOwnedBy(user)){
    <a href="@routes.ArticleController.create(article.articleTemplateId)" class="btn btn-warning btn-xs" title="@Messages("article.customize.description")"><span class="glyphicon glyphicon-pencil"></span> @Messages("article.customize")</a>
    }
  }
}
	
@defining(routes.ArticleController.view(article.category, article.seoAlias).absoluteURL) {viewUrl =>
  @tags.viewArticleContent(article, viewUrl, contentActions, imageService)  
}